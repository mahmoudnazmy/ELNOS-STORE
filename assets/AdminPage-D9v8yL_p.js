import{r as e,G as l,A as t,c as a,b as o,j as s,g as r,k as n,F as d,f as i,t as c,N as p,h as u,v as b,V as g,l as x,W as v,u as m,o as y}from"./vue-vendor-DryOPsMf.js";import{d as f,u as h,c as k,e as w,a as C}from"./index-4w_KoVMr.js";import"./firebase-vendor-BTvUEPao.js";const N={class:"admin-page min-h-screen bg-gray-50 pt-24 pb-20"},P={class:"container mx-auto px-4"},V={class:"flex justify-between items-end mb-8"},j={class:"flex gap-3"},S={key:0,class:"text-center py-20"},U={key:1,class:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},H={class:"w-full"},M={class:"divide-y divide-gray-50"},q={class:"py-4 px-6"},A={class:"flex items-center gap-4"},B={class:"w-12 h-12 rounded-lg bg-gray-100 p-1 flex-shrink-0"},_=["src"],z={class:"font-bold text-gray-900"},D={class:"py-4 px-6 text-gray-600"},L={class:"py-4 px-6"},T={class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-bold"},O={class:"py-4 px-6 text-center"},F={key:0,class:"px-3 py-1 bg-red-100 text-red-600 rounded-full text-xs font-bold"},G={class:"py-4 px-6 text-left"},I={class:"flex items-center gap-2"},W=["onClick"],E=["onClick"],J={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},K={class:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative z-10 p-8"},Q={class:"text-2xl font-bold mb-6"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={class:"space-y-6"},Y={class:"bg-gray-50 p-4 rounded-xl border border-gray-100"},Z={class:"block text-sm font-bold text-gray-700 mb-2"},$={class:"mt-3 flex flex-wrap gap-2"},ee={class:"space-y-3"},le=["onUpdate:modelValue"],te=["onUpdate:modelValue"],ae=["onClick"],oe={class:"bg-gray-50 p-6 rounded-2xl border border-gray-100 space-y-6"},se={class:"flex flex-wrap gap-8"},re={class:"flex items-center gap-3"},ne={class:"flex items-center gap-3"},de={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 animate-fade-in-down"},ie={class:"flex items-end pb-1"},ce={key:0,class:"text-green-700 font-bold bg-green-100 px-4 py-3 rounded-xl w-full text-center border border-green-200"},pe={class:"flex gap-4 pt-4 border-t border-gray-100"},ue=["disabled"],be=f({__name:"AdminPage",setup(f){const be=m(),ge=h(),xe=k(),ve=e(!1),me=async()=>{try{await w(C),be.push("/login")}catch(e){}},ye=e([]),fe=l({name:"",category:"phones",price:"",oldPrice:"",description:"",onSale:!1,isNew:!0,colors:[{name:"Default",code:"#000000"}]});t(()=>{ge.fetchProducts()});const he=e=>{ye.value=Array.from(e.target.files)},ke=()=>{fe.colors.push({name:"",code:"#000000"})},we=e(!1),Ce=e(null),Ne=()=>{we.value=!1,Ce.value=null,ye.value=[],Object.assign(fe,{name:"",category:"phones",price:"",oldPrice:"",description:"",onSale:!1,isNew:!0,colors:[{name:"Default",code:"#000000"}]})},Pe=async()=>{if(we.value||0!==ye.value.length)try{if(we.value){const e={...fe},l=ye.value.length>0?ye.value[0]:null;if(!l){const l=ge.products.find(e=>e.id===Ce.value);e.image=l.image,e.images=l.images}await ge.updateProduct(Ce.value,e,l),xe.showToast("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! âœï¸")}else await ge.addProduct(fe,ye.value),xe.showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! ğŸš€");ve.value=!1,Ne()}catch(e){alert("Ø­Ø¯Ø« Ø®Ø·Ø£: "+e.message)}else alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„")};return(e,l)=>(y(),a("div",N,[o("div",P,[o("div",V,[l[12]||(l[12]=o("div",null,[o("h1",{class:"text-3xl font-bold text-[#1a1a1a]"},"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"),o("p",{class:"text-gray-500"},"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†")],-1)),o("div",j,[o("button",{onClick:me,class:"bg-white border border-gray-200 text-red-500 px-6 py-3 rounded-xl font-bold hover:bg-red-50 hover:border-red-100 transition-colors flex items-center gap-2"},[...l[10]||(l[10]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),o("span",null,"Ø®Ø±ÙˆØ¬",-1)])]),o("button",{onClick:l[0]||(l[0]=e=>ve.value=!0),class:"bg-black text-white px-6 py-3 rounded-xl font-bold hover:bg-gray-800 transition-colors flex items-center gap-2"},[...l[11]||(l[11]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r(" Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ ",-1)])])])]),n(ge).loading?(y(),a("div",S,[...l[13]||(l[13]=[o("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto"},null,-1),o("p",{class:"mt-4 text-gray-500"},"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",-1)])])):(y(),a("div",U,[o("table",H,[l[16]||(l[16]=o("thead",{class:"bg-gray-50 border-b border-gray-100"},[o("tr",null,[o("th",{class:"py-4 px-6 text-right font-bold text-gray-600"},"Ø§Ù„Ù…Ù†ØªØ¬"),o("th",{class:"py-4 px-6 text-right font-bold text-gray-600"},"Ø§Ù„Ø³Ø¹Ø±"),o("th",{class:"py-4 px-6 text-right font-bold text-gray-600"},"Ø§Ù„ØªØµÙ†ÙŠÙ"),o("th",{class:"py-4 px-6 text-center font-bold text-gray-600"},"Ø§Ù„Ø­Ø§Ù„Ø©"),o("th",{class:"py-4 px-6 text-left font-bold text-gray-600"},"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),o("tbody",M,[(y(!0),a(d,null,i(n(ge).products,e=>(y(),a("tr",{key:e.id,class:"hover:bg-gray-50"},[o("td",q,[o("div",A,[o("div",B,[o("img",{src:e.images[0],class:"w-full h-full object-contain mix-blend-multiply"},null,8,_)]),o("span",z,c(e.name),1)])]),o("td",D,c(e.price.toLocaleString())+" Ø¬.Ù…",1),o("td",L,[o("span",T,c(e.category),1)]),o("td",O,[e.onSale?(y(),a("span",F,"Ø¹Ø±ÙˆØ¶")):s("",!0)]),o("td",G,[o("div",I,[o("button",{onClick:l=>(e=>{we.value=!0,Ce.value=e.id,Object.assign(fe,{name:e.name,category:e.category,price:e.price,oldPrice:e.oldPrice||"",description:e.description,onSale:e.onSale||!1,isNew:void 0!==e.isNew&&e.isNew,colors:e.colors&&e.colors.length?[...e.colors]:[{name:"Default",code:"#000000"}]}),ve.value=!0})(e),class:"text-blue-500 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"ØªØ¹Ø¯ÙŠÙ„"},[...l[14]||(l[14]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,W),o("button",{onClick:l=>(async e=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ")&&(await ge.deleteProduct(e),xe.showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­"))})(e.id),class:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Ø­Ø°Ù"},[...l[15]||(l[15]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,E)])])]))),128))])])])),ve.value?(y(),a("div",J,[o("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:l[1]||(l[1]=e=>ve.value=!1)}),o("div",K,[o("h2",Q,c(we.value?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬":"Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯"),1),o("form",{onSubmit:p(Pe,["prevent"]),class:"space-y-6"},[o("div",R,[o("div",null,[l[17]||(l[17]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬",-1)),u(o("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>fe.name=e),type:"text",required:"",class:"input-field",placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬..."},null,512),[[b,fe.name]])]),o("div",null,[l[19]||(l[19]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ù„ØªØµÙ†ÙŠÙ",-1)),u(o("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>fe.category=e),required:"",class:"input-field"},[...l[18]||(l[18]=[x('<option value="phones" data-v-47a261b3>Ù‡ÙˆØ§ØªÙ</option><option value="headphones" data-v-47a261b3>Ø³Ù…Ø§Ø¹Ø§Øª</option><option value="watches" data-v-47a261b3>Ø³Ø§Ø¹Ø§Øª</option><option value="chargers" data-v-47a261b3>Ø´ÙˆØ§Ø­Ù†</option><option value="cases" data-v-47a261b3>Ø£ØºØ·ÙŠØ©</option><option value="accessories" data-v-47a261b3>Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option><option value="protectors" data-v-47a261b3>Ø­Ù…Ø§ÙŠØ© Ø´Ø§Ø´Ø©</option>',7)])],512),[[g,fe.category]])])]),o("div",X,[o("div",null,[l[20]||(l[20]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ",-1)),u(o("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>fe.price=e),type:"number",required:"",class:"input-field",placeholder:"0.00"},null,512),[[b,fe.price]])]),o("div",null,[l[21]||(l[21]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ù„ÙˆØµÙ",-1)),u(o("textarea",{"onUpdate:modelValue":l[5]||(l[5]=e=>fe.description=e),rows:"3",required:"",class:"input-field",placeholder:"ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ù…Ù†ØªØ¬..."},null,512),[[b,fe.description]])])]),o("div",Y,[o("label",Z,c(we.value?"ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)":"ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬"),1),o("input",{type:"file",multiple:"",onChange:he,accept:"image/*",class:"w-full p-2 bg-white border border-gray-200 rounded-xl"},null,32),o("div",$,[(y(!0),a(d,null,i(ye.value,e=>(y(),a("span",{key:e.name,class:"text-xs font-medium bg-gray-200 px-2 py-1 rounded-md text-gray-700"},c(e.name),1))),128))])]),o("div",null,[l[23]||(l[23]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©",-1)),o("div",ee,[(y(!0),a(d,null,i(fe.colors,(e,l)=>(y(),a("div",{key:l,class:"flex gap-2"},[u(o("input",{"onUpdate:modelValue":l=>e.name=l,placeholder:"Ø§Ø³Ù… Ø§Ù„Ù„ÙˆÙ†",class:"input-field flex-1"},null,8,le),[[b,e.name]]),u(o("input",{"onUpdate:modelValue":l=>e.code=l,type:"color",class:"h-11 w-16 p-1 rounded-lg cursor-pointer border border-gray-200"},null,8,te),[[b,e.code]]),o("button",{type:"button",onClick:e=>{return t=l,void fe.colors.splice(t,1);var t},class:"text-red-500 hover:text-red-700 font-bold px-3 bg-red-50 rounded-lg transition-colors"},"Ã—",8,ae)]))),128)),o("button",{type:"button",onClick:ke,class:"text-sm text-black font-bold flex items-center gap-1 hover:underline"},[...l[22]||(l[22]=[o("span",null,"+ Ø¥Ø¶Ø§ÙØ© Ù„ÙˆÙ† Ø¢Ø®Ø±",-1)])])])]),o("div",oe,[o("div",se,[o("div",re,[u(o("input",{type:"checkbox","onUpdate:modelValue":l[6]||(l[6]=e=>fe.onSale=e),id:"onSale",class:"w-6 h-6 accent-black cursor-pointer"},null,512),[[v,fe.onSale]]),l[24]||(l[24]=o("label",{for:"onSale",class:"font-bold cursor-pointer text-gray-800"},"ØªÙØ¹ÙŠÙ„ Ø¹Ø±Ø¶ Ø®Ø§Øµ (Sale)",-1))]),o("div",ne,[u(o("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=e=>fe.isNew=e),id:"isNew",class:"w-6 h-6 accent-black cursor-pointer"},null,512),[[v,fe.isNew]]),l[25]||(l[25]=o("label",{for:"isNew",class:"font-bold cursor-pointer text-gray-800"},"ÙˆØµÙ„ Ø­Ø¯ÙŠØ«Ø§Ù‹ (New)",-1))])]),fe.onSale?(y(),a("div",de,[o("div",null,[l[26]||(l[26]=o("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ… (Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…)",-1)),u(o("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>fe.oldPrice=e),type:"number",class:"input-field",placeholder:"Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ"},null,512),[[b,fe.oldPrice]])]),o("div",ie,[fe.oldPrice&&fe.price?(y(),a("div",ce," Ø®ØµÙ… "+c(Math.round((Number(fe.oldPrice)-Number(fe.price))/Number(fe.oldPrice)*100))+"% ğŸ”¥ ",1)):s("",!0)])])):s("",!0)]),o("div",pe,[o("button",{type:"button",onClick:l[9]||(l[9]=()=>{ve.value=!1,Ne()}),class:"flex-1 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200"},"Ø¥Ù„ØºØ§Ø¡"),o("button",{type:"submit",disabled:n(ge).loading,class:"flex-1 py-3 bg-black text-white font-bold rounded-xl hover:bg-gray-800 disabled:opacity-50"},c(n(ge).loading?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":we.value?"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª":"Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬"),9,ue)])],32)])])):s("",!0)])]))}},[["__scopeId","data-v-47a261b3"]]);export{be as default};
