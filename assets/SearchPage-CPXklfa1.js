import{O as e,r as a,U as t,A as s,C as r,q as l,c as o,b as n,j as c,h as u,v as i,i as d,g as p,t as v,F as x,f as g,l as m,e as y,w as h,a as b,u as f,n as k,o as w,J as C}from"./vue-vendor-DryOPsMf.js";import{u as j,_ as q}from"./index-4w_KoVMr.js";import"./firebase-vendor-BTvUEPao.js";const M={class:"search-page pt-24 pb-20 bg-[#FAFAFA] min-h-screen"},_={class:"container mx-auto px-4"},A={class:"mb-12 text-center max-w-2xl mx-auto"},F={class:"relative bg-white rounded-2xl shadow-sm border border-gray-100 flex items-center p-2"},L={key:0,class:"text-gray-500 mt-4"},z={class:"font-bold text-black"},B={key:0},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},U={key:1,class:"text-center py-20"},J={class:"mt-8 flex justify-center gap-4"},K={__name:"SearchPage",setup(K){const O=t(),S=f(),V=k("productModal"),D=j(),{products:E,loading:G}=e(D),H=a(O.query.q||"");s(()=>{0===E.value.length&&D.fetchProducts()}),r(()=>O.query.q,e=>{H.value=e||""});const I=l(()=>{if(!H.value)return[];const e=H.value.toLowerCase().trim();return E.value.filter(a=>a.name.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)||a.category.toLowerCase().includes(e))}),N=()=>{H.value.trim()&&S.replace({query:{...O.query,q:H.value}})};return(e,a)=>{const t=b("router-link");return w(),o("div",M,[n("div",_,[n("div",A,[a[3]||(a[3]=n("h1",{class:"text-3xl font-bold text-[#1a1a1a] mb-4"},"نتائج البحث",-1)),n("div",F,[a[1]||(a[1]=n("svg",{class:"w-6 h-6 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),u(n("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>H.value=e),type:"text",placeholder:"ابحث عن منتج...",class:"flex-1 bg-transparent border-none outline-none text-lg text-gray-900 placeholder-gray-400 px-2",onKeyup:d(N,["enter"])},null,544),[[i,H.value]]),n("button",{onClick:N,class:"bg-black text-white px-6 py-2 rounded-xl font-bold hover:bg-gray-800 transition-colors"}," بحث ")]),H.value?(w(),o("p",L,[a[2]||(a[2]=p(" عرض النتائج لـ: ",-1)),n("span",z,'"'+v(H.value)+'"',1)])):c("",!0)]),I.value.length>0?(w(),o("div",B,[n("div",P,[(w(!0),o(x,null,g(I.value,e=>(w(),C(q,{key:e.id,product:e,onClick:a=>(e=>{V.value&&V.value.open(e)})(e)},null,8,["product","onClick"]))),128))])])):(w(),o("div",U,[a[6]||(a[6]=m('<div class="w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h2 class="text-2xl font-bold text-[#1a1a1a] mb-2">لا توجد نتائج</h2><p class="text-gray-500">لم نتمكن من العثور على أي منتجات تطابق بحثك.</p>',3)),n("div",J,[y(t,{to:"/",class:"btn-secondary"},{default:h(()=>[...a[4]||(a[4]=[p("الرئيسية",-1)])]),_:1}),y(t,{to:"/category/offers",class:"btn-primary"},{default:h(()=>[...a[5]||(a[5]=[p("تصفح العروض",-1)])]),_:1})])]))])])}}};export{K as default};
